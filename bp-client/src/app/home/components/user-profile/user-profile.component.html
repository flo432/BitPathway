<app-simple-loader *ngIf="isLoading"></app-simple-loader>
<div class="container pt-2">
<div class="card" *ngIf="!isLoading">
  <h4 class="card-header">Account settings</h4>
  <div class="card-body">
    <form novalidate class="form-signin" #f="ngForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="inputFirstName" class="sr-only">First name</label>
        <input type="text" id="inputFirstName"
               placeholder="First name"
               class="form-control"
               name="first_name"
               [(ngModel)]="user.first_name"
               #first_name="ngModel"
               minlength="3"
               required>
        <small class="text-danger float-left" [hidden]="first_name.valid || (first_name.pristine && !f.submitted)">
          First name is required and must be minimum 3 characters long.
        </small>
      </div>
      <div class="form-group">
        <label for="inputLastName" class="sr-only">Last name</label>
        <input type="text" id="inputLastName"
               placeholder="Last name"
               class="form-control"
               name="last_name"
               [(ngModel)]="user.last_name"
               #last_name="ngModel"
               minlength="3"
               required>
        <small class="text-danger float-left" [hidden]="last_name.valid || (last_name.pristine && !f.submitted)">
          Last name is required and must be minimum 3 characters long.
        </small>
      </div>
      <div class="form-group">
        <label for="inputEmail" class="sr-only">Email address</label>
        <input type="text" id="inputEmail"
               placeholder="Email address"
               class="form-control"
               name="email"
               value="{{user.email}}"
               disabled>
      </div>
      <div class="row">
        <div class="col d-flex justify-content-start">
          <button class="btn btn-secondary" type="button" (click)="goBack()"><i class="fa fa-angle-left"></i> Go back</button>
        </div>
        <div class="col d-flex justify-content-center">
          <button [disabled]="!f.form.valid" class="btn btn-primary" type="submit"><i class="fa fa-save"></i> Update</button>
        </div>
        <div class="col d-flex justify-content-end">
          <button class="btn btn-danger" type="button" (click)="deleteUser()"><i class="fa fa-trash"></i> Delete </button>
        </div>
      </div>
    </form>
  </div>
</div>
</div>
